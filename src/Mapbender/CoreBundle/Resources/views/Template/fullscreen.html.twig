{% extends "MapbenderCoreBundle::frontend.html.twig" %}

{% block title %}Mapbender3 - {{ application.title }}{% endblock %}

{% block favicon %}{{ asset('favicon.png') }}{% endblock %}

{% block css %}
  {% stylesheets filter="compass,cssrewrite"
    "bundles/mapbendercore/sass/theme/mapbender3.scss"
    "bundles/mapbendercore/sass/template/fullscreen.scss"

    "bundles/mapbendercore/sass/element/about_dialog.scss"
    "bundles/mapbendercore/sass/element/activityindicator.scss"
    "bundles/mapbendercore/sass/element/basesourceswitcher.scss"
    "bundles/mapbendercore/sass/element/button.scss"
    "bundles/mapbendercore/sass/element/coordinatesdisplay.scss"
    "bundles/mapbendercore/sass/element/copyright.scss"
    "bundles/mapbendercore/sass/element/gpsposition.scss"
    "bundles/mapbendercore/sass/element/layertree.scss"
    "bundles/mapbendercore/sass/element/legend.scss"
    "bundles/mapbendercore/sass/element/map.scss"
    "bundles/mapbendercore/sass/element/overview.scss"
    "bundles/mapbendercore/sass/element/printclient.scss"
    "bundles/mapbendercore/sass/element/scalebar.scss"
    "bundles/mapbendercore/sass/element/scaledisplay.scss"
    "bundles/mapbendercore/sass/element/search_router.scss"
    "bundles/mapbendercore/sass/element/zoombar.scss"
    "bundles/mapbenderwms/sass/element/wmsloader.scss"
    "bundles/mapbenderwmc/sass/element/wmceditor.scss"
  %}
    <link rel="stylesheet" href="{{ asset_url }}" />
  {% endstylesheets %}
{% endblock %}
  
{% block trans %}
  {{parent()}}
  <script type="text/javascript" src="{{ path('mapbender_core_application_assets', {'slug': application.slug, 'type': 'trans'}) }}"></script>
{% endblock %}
  
{% block js %}
  {{parent()}}
  <script type="text/javascript" src="{{ path('mapbender_core_application_assets', {'slug': application.slug, 'type': 'js'}) }}"></script>
{% endblock %}
  

{% block frontend_content %}

  <div id="templateWrapper" class="templateWrapper sidePaneOpened">
    <div class="logoContainer">
      <img class="logo" height="40" alt="Mapbender 3 Manager" src="{{ asset(fom.server_logo)}}" />
    </div>

    <ul id="toolbar" class="toolBar itemsRight top">
      {% if application.elements.toolbar is defined %}
        {% for element in application.elements.toolbar %}
          <li class="toolBarItem">{{ element.render() | raw }}</li>
        {% endfor %}
      {% endif %}
    </ul>
  {% if application.elements.sidepane is defined %}
    <div id="sidepane" class="clear sidePane left">
      <ul class="sidePaneTabs">
        <li class="sidePaneTabItem toggleSideBar"></li>
      </ul>
      <div class="sideContent">
        {% include "MapbenderCoreBundle:Template:region.html.twig"  with {'region_props': region_props, 'application': application, 'region': 'sidepane' }%}
      </div>
    </div>
  {% endif %}
    <div id="content" class="contentPane">
      {% include "MapbenderCoreBundle:Template:region.html.twig"  with {'region_props': region_props, 'application': application, 'region': 'content' }%}
    </div>

    <ul id="footer" class="toolBar itemsRight bottom">
      {% include "MapbenderCoreBundle:Template:region.html.twig"  with {'region_props': region_props, 'application': application, 'region': 'footer' }%}
    </ul>
  </div>

  <script type="text/javascript">
    var Mapbender = Mapbender || {};
    Mapbender.configuration = {{ application.configuration | raw }};
  </script>
{% endblock %}
